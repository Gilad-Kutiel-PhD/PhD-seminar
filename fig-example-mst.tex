\begin{tikzpicture}[-, x=11mm]

\foreach[count=\i] \x \y in {
	0/0
	,2/1
	,1/2
	,3/4
	,4/-3
	,4/2
	,2/-2
	,3/-1
	,4/0
	,5/-2
	,6/1
	,5/3
	,7/-1
	,6/-3
	,7/2
	,9/0
	,8/3
	,8/-2
}{
	\node(\i) at(\x,\y){\i};
}

% TREE 
\foreach \u \v \w in {
	1/3/1,1/2/2,1/8/3,1/7/1%
	,6/4/2,6/9/3,6/10/1,6/11/2,6/15/3,6/12/1%
	,18/14/2%
	,10/5/3,10/14/1%
	,2/6/2%
	,16/13/3,16/17/1,16/18/2%
}{
	\draw[] (\u) -- (\v) node[midway, rectangle, fill=white,
	draw=none, font=\small, sloped] {\w}; }

% OTHER
\foreach \u \v \w in {
	2/3/3,2/8/4,2/9/5,2/4/3%
	,3/4/4%
	,4/12/5,4/17/3%
	,5/7/4,5/8/5,5/9/3, 5/14/4%
	,7/8/4%
	,8/9/5%
	,9/10/3%
	,10/11/4,10/11/5,10/13/3,10/18/5%
	,11/13/3,11/15/4,11/16/5%
	,12/15/3,12/17/4%
	,13/18/5%
	,15/16/3,15/17/4%
}{
	\draw[on=<2->{gray!20}] (\u) -- (\v) 
	node[
		midway
		,rectangle
		,fill=white
		,draw=none
		,font=\small
		,sloped
		,on=<2->{text opacity=.2}
	] {\w}; 
}


\end{tikzpicture}